---
title: "[μ¤ν”„λ§] μ›Ή MVC λ° DB μ—°λ™ - 4"
description: "μ¤ν”„λ§ λΉκ³Ό μμ΅΄κ΄€κ³„"
language: "Java"
category: "Spring Beginner"
update: "2025-01-08"
hide: true
serisenumber: 4
---

## μ‹μ‘

- [κΉ€μν• κ°•μ‚¬λ‹μ μ¤ν”„λ§ μ…λ¬Έ - μ½”λ“λ΅ λ°°μ°λ” μ¤ν”„λ§ λ¶€νΈ, μ›Ή MVC, DB μ ‘κ·Ό κΈ°μ  κ°•μλ¥Ό λ“£κ³  μ‘μ„±ν• κΈ€μ…λ‹λ‹¤.](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%EC%9E%85%EB%AC%B8-%EC%8A%A4%ED%94%84%EB%A7%81%EB%B6%80%ED%8A%B8/dashboard)

## μ¤ν”„λ§ λΉ λ“±λ΅ λ° μμ΅΄κ΄€κ³„ μ„¤μ •

MemberController λ” MemberService λ¥Ό ν†µν•΄ νμ›κ°€μ… λ° Member κ΄€λ ¨ κΈ°λ¥μ„ μ‚¬μ©ν•΄μ•Όν•λ‹¤. μ΄λ¥Ό μμ΅΄κ΄€κ³„λΌκ³  ν•λ‹¤.

`@Controller` μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•μ—¬ μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅ν•λ‹¤. μ΄ λΉμ€ μ¤ν”„λ§ μ»¨ν…μ΄λ„μ— λ“±λ΅λκ³  κ΄€λ¦¬λλ‹¤.

μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅λλ©΄ newλ΅ λ§¤λ² μƒμ„±ν•μ§€ μ•κ³  μ¤ν”„λ§ μ»¨ν…μ΄λ„μ—μ„ κ΄€λ¦¬λλ” λΉμ„ μ£Όμ…λ°›μ•„ μ‚¬μ©ν•  μ μλ‹¤.

μ°μ„  μ„λΉ„μ¤ ν΄λμ¤μ— `@Service` μ–΄λ…Έν…μ΄μ…μ„ μ¶”κ°€ν•μ—¬ μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅ν•λ‹¤.

```java
package hello.hello_spring.service;

// ...

@Service
public class MemberService {

    private final MemberRepository memberRepository;

    @Autowired
    public MemberService(MemberRepository memberRepository) {
        this.memberRepository = memberRepository;
    }
```

Repository λν• μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅ν•΄μ•Όν•λ‹¤. μ΄λ¥Ό μ„ν•΄ `@Repository` μ–΄λ…Έν…μ΄μ…μ„ μ¶”κ°€ν•λ‹¤.

```java
package hello.hello_spring.repository;

// ...

@Repository
public class MemoryMemberRepository implements MemberRepository {
    // ...
}
```

μ΄μ  μ»¨νΈλ΅¤λ¬μ—μ„ μ„λΉ„μ¤λ¥Ό μ‚¬μ©ν•  μ μλ„λ΅ μμ΅΄κ΄€κ³„λ¥Ό μ„¤μ •ν•λ‹¤. μ΄λ¥Ό μμ΅΄μ„±μ„ μ£Όμ…ν•΄μ£Όλ” Dependency Injection μ΄λΌκ³  ν•λ‹¤.

`@Autowired` μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•μ—¬ μμ΅΄κ΄€κ³„λ¥Ό μ„¤μ •ν•λ‹¤.

```java
package hello.hello_spring.controller;

// ...

@Controller
public class MemberController {

    // private final MemberService memberService = new MemberService();

    private final MemberService memberService;

    @Autowired
    public MemberController(MemberService memberService) {
        this.memberService = memberService;
    }
}
```

μ»¨νΈλ΅¤λ¬λ” μ„λΉ„μ¤λ¥Ό μμ΅΄, μ„λΉ„μ¤λ” λ¦¬νΌμ§€ν† λ¦¬λ¥Ό μμ΅΄ν•©λ‹λ‹¤. `@Autowired` μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•μ—¬ μμ΅΄κ΄€κ³„λ¥Ό μ„¤μ •ν•©λ‹λ‹¤.

μ΄λ ‡κ² ν•λ©΄ μ¤ν”„λ§ μ»¨ν…μ΄λ„λ” ν•„μ”ν• κ°μ²΄λ¥Ό μλ™μΌλ΅ μ£Όμ…ν•΄μ¤λ‹λ‹¤.

μ¤ν”„λ§ λΉμ„ λ“±λ΅ν•λ” λ°©λ²•μ€ 2κ°€μ§€κ°€ μμµλ‹λ‹¤.

1. μ»΄ν¬λ„νΈ μ¤μΊ”κ³Ό μλ™ μμ΅΄κ΄€κ³„ μ„¤μ •
- `@Component` μ–΄λ…Έν…μ΄μ…μ΄ μλ” ν΄λμ¤λ¥Ό μ¤ν”„λ§μ΄ μλ™μΌλ΅ μ°Ύμ•„μ„ μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅
- `@Controller`, `@Service`, `@Repository` μ–΄λ…Έν…μ΄μ…μ€ λ¨λ‘ λ‚΄λ¶€μ μΌλ΅ `@Component`λ¥Ό ν¬ν•¨
- μ¤ν”„λ§μ€ `@SpringBootApplication`μ΄ μλ” ν¨ν‚¤μ§€μ™€ κ·Έ ν•μ„ ν¨ν‚¤μ§€λ¥Ό μλ™μΌλ΅ μ¤μΊ”
- `@Autowired`λ¥Ό ν†µν•΄ μ¤ν”„λ§μ΄ μ—°κ΄€λ κ°μ²΄λ¥Ό μ¤ν”„λ§ μ»¨ν…μ΄λ„μ—μ„ μ°Ύμ•„μ„ μλ™μΌλ΅ μ£Όμ…

```java
// @Controller

@Target({ElementType.TYPE})
@Retention(RetentionPolicy.RUNTIME)
@Documented
@Component
public @interface Controller {
    @AliasFor(
        annotation = Component.class
    )
    String value() default "";
}
```

2. μλ°” μ½”λ“λ΅ μ§μ ‘ μ¤ν”„λ§ λΉ λ“±λ΅ν•κΈ° 
- `@Configuration` ν΄λμ¤μ— `@Bean` μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•μ—¬ μλ™μΌλ΅ μ¤ν”„λ§ λΉμ„ λ“±λ΅
- μƒν™©μ— λ”°λΌ κµ¬ν„ ν΄λμ¤λ¥Ό λ³€κ²½ν•΄μ•Ό ν•λ©΄ μ„¤μ •μ„ ν†µν•΄ μ¤ν”„λ§ λΉμ„ λ“±λ΅ν•λ” λ°©μ‹μ„ μ„ νƒ
- XML μ„¤μ • λ°©μ‹λ„ μμ§€λ§ μµκ·Όμ—λ” μ μ‚¬μ©ν•μ§€ μ•μ

> π’΅ μ¤ν”„λ§μ€ μ»¨ν…μ΄λ„μ— μ¤ν”„λ§ λΉμ„ λ“±λ΅ν•  λ•, κΈ°λ³Έμ μΌλ΅ μ‹±κΈ€ν†¤μΌλ΅ λ“±λ΅ν•λ‹¤. μ¦‰, μ¤ν”„λ§ μ»¨ν…μ΄λ„λ” ν•λ‚λ§ μƒμ„±ν•κ³  κ·Έ ν•λ‚λ¥Ό κ³µμ ν•μ—¬ μ‚¬μ©ν•λ‹¤.

## μλ°” μ½”λ“λ΅ μ§μ ‘ μ¤ν”„λ§ λΉ λ“±λ΅ν•κΈ°

`@Configuration` μ–΄λ…Έν…μ΄μ…μ„ μ‚¬μ©ν•μ—¬ μ¤ν”„λ§ λΉμ„ λ“±λ΅ν•©λ‹λ‹¤.

```java
package hello.hello_spring;

import hello.hello_spring.repository.MemberRepository;
import hello.hello_spring.repository.MemoryMemberRepository;
import hello.hello_spring.service.MemberService;
import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
/**
 * μ¤ν”„λ§ λΉ μλ™ λ“±λ΅μ„ μ„ν• μ„¤μ • ν΄λμ¤
 */
@Configuration
public class SpringConfig {

    /**
     * MemberService μ¤ν”„λ§ λΉ λ“±λ΅
     * memberRepository()λ¥Ό μ£Όμ…λ°›μ•„ MemberService μΈμ¤ν„΄μ¤ μƒμ„±
     * @return μƒμ„±λ MemberService μΈμ¤ν„΄μ¤
     */
    @Bean
    public MemberService memberService() {
        return new MemberService(memberRepository());
    }

    /**
     * MemberRepository μ¤ν”„λ§ λΉ λ“±λ΅
     * MemoryMemberRepository κµ¬ν„μ²΄ μ‚¬μ©
     * @return μƒμ„±λ MemberRepository μΈμ¤ν„΄μ¤
     */
    @Bean
    public MemberRepository memberRepository() {
        return new MemoryMemberRepository();
    }
}
```

μ΄λ ‡κ² ν•λ©΄ μ¤ν”„λ§ μ»¨ν…μ΄λ„λ” λΉμ„ μƒμ„±ν•κ³  κ΄€λ¦¬ν•λ” μ—­ν• μ„ ν•©λ‹λ‹¤.

## μ–΄λ–»κ² μ‚¬μ©ν•΄μ•Ό ν•λ”κ°€

- κ³Όκ±°μ—λ” XMLλ΅ μ„¤μ •ν–μ§€λ§ μµκ·Όμ—λ” μλ°” μ½”λ“λ΅ μ§μ ‘ μ¤ν”„λ§ λΉμ„ λ“±λ΅ν•λ” λ°©μ‹μ΄ λ” λ§μ΄ μ‚¬μ©λ©λ‹λ‹¤.
- DI μ—λ” ν•„λ“ μ£Όμ…, μƒμ„±μ μ£Όμ…, setter μ£Όμ… 3κ°€μ§€κ°€ μμµλ‹λ‹¤. μμ΅΄ κ΄€κ³„κ°€ λ™μ μΌλ΅ λ³€κ²½λλ” κ²½μ°λ” μ—†μΌλ―€λ΅ μƒμ„±μ μ£Όμ…μ„ κ¶μ¥ν•©λ‹λ‹¤.
- μ‹¤λ¬΄μ—μ„λ” μ£Όλ΅ μ •ν•ν™”λ μ»¨νΈλ΅¤λ¬, μ„λΉ„μ¤, λ¦¬ν¬μ§€ν† λ¦¬ κ°™μ€ μ½”λ“λ” μ»¨ν¬λ„νΈ μ¤μΊ”μ„ μ‚¬μ©ν•λ‹¤. μ •ν•ν™”λμ§€ μ•κ±°λ‚ μƒν™©μ— λ”°λΌ κµ¬ν„ ν΄λμ¤λ¥Ό λ³€κ²½ν•΄μ•Ό ν•λ©΄ `@Configuration`μ„ μ‚¬μ©ν•΄ λΉμ„ λ“±λ΅ν•λ” λ°©μ‹μ„ μ‚¬μ©ν•λ‹¤.
- μ£Όμ : `@Autowired`λ¥Ό ν†µν• DIλ” `helloController`, `MemberService` λ“±κ³Ό κ°™μ΄ μ¤ν”„λ§μ΄ κ΄€λ¦¬ν•λ” κ°μ²΄ μ—μ„λ§ λ™μ‘ν•λ‹¤. μ¤ν”„λ§ λΉμΌλ΅ λ“±λ΅ν•μ§€ μ•κ³  μ§μ ‘ μƒμ„±ν• κ°μ²΄λ” λ™μ‘ν•μ§€ μ•λ”λ‹¤. 